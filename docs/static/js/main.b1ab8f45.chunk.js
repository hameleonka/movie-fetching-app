(this["webpackJsonpmovie-fetching-app"]=this["webpackJsonpmovie-fetching-app"]||[]).push([[0],[,,,function(e,t,n){e.exports={control:"AddMovie_control__2ENNX"}},,,,,function(e,t,n){e.exports={movie:"Movie_movie__27rBX"}},function(e,t,n){e.exports={"movies-list":"MoviesList_movies-list__lMnXQ"}},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(7),s=n.n(c),i=(n(14),n(2)),a=n.n(i),o=n(6),l=n(4),j=n(8),u=n.n(j),b=n(0);var d=function(e){return Object(b.jsxs)("li",{className:u.a.movie,children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)("h3",{children:e.releaseYear}),Object(b.jsx)("p",{children:e.storyline})]})},h=n(9),f=n.n(h);var v=function(e){return Object(b.jsx)("ul",{className:f.a["movies-list"],children:e.movies.map((function(e){return Object(b.jsx)(d,{title:e.title,storyline:e.storyline,releaseYear:e.releaseYear},e.id)}))})},p=n(3),O=n.n(p);var x=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(""),c=Object(r.useRef)(""),s=Object(r.useRef)("");return Object(b.jsxs)("form",{onSubmit:function(r){r.preventDefault();var i={title:n.current.value,storyline:c.current.value,releaseYear:s.current.value};e.onAddMovie(i),t.current.reset()},ref:t,children:[Object(b.jsxs)("div",{className:O.a.control,children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",id:"title",ref:n})]}),Object(b.jsxs)("div",{className:O.a.control,children:[Object(b.jsx)("label",{htmlFor:"storyline",children:"Storyline"}),Object(b.jsx)("textarea",{rows:"10",id:"storyline",ref:c})]}),Object(b.jsxs)("div",{className:O.a.control,children:[Object(b.jsx)("label",{htmlFor:"year",children:"Release Year"}),Object(b.jsx)("input",{type:"text",id:"year",ref:s})]}),Object(b.jsx)("button",{children:"Add Movie"})]})};n(17);var m=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(l.a)(s,2),j=i[0],u=i[1],d=Object(r.useState)(null),h=Object(l.a)(d,2),f=h[0],p=h[1],O=Object(r.useCallback)(Object(o.a)(a.a.mark((function e(){var t,n,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),p(null),e.prev=2,e.next=5,fetch("https://react-http-65cdc-default-rtdb.firebaseio.com/movies.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,t.json();case 10:for(s in n=e.sent,r=[],n)r.push({id:s,title:n[s].title,storyline:n[s].storyline,releaseYear:n[s].releaseYear});c(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),p(e.t0.message);case 19:u(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])}))),[]);Object(r.useEffect)((function(){O()}),[O]);var m=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(null),e.next=4,fetch("https://react-http-65cdc-default-rtdb.firebaseio.com/movies.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 4:if(e.sent.ok){e.next=7;break}throw new Error("Something went wrong!");case 7:O(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),p(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{children:Object(b.jsx)(x,{onAddMovie:m})}),Object(b.jsxs)("section",{children:[!j&&n.length>0&&!f&&Object(b.jsx)(v,{movies:n}),!j&&0===n.length&&!f&&Object(b.jsx)("p",{children:"Found no movies."}),!j&&f&&Object(b.jsx)("p",{children:f}),j&&Object(b.jsx)("p",{children:"Loading..."})]})]})};s.a.render(Object(b.jsx)(m,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.b1ab8f45.chunk.js.map